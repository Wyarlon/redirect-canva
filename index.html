<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Confirmação de Compra</title>
    
    <!-- Implementação Profissional do Pixel -->
    <script>
        // Função otimizada para carregamento do Pixel
        function loadPixel() {
            return new Promise((resolve) => {
                const pixel = new Image();
                pixel.src = `https://www.facebook.com/tr?id=1345211853386206&ev=Purchase&cd[value]=39.90&noscript=1&t=${Date.now()}`;
                pixel.onload = resolve;
                document.body.appendChild(pixel);
            });
        }

        // Redirecionamento garantido após confirmação
        async function init() {
            try {
                await loadPixel(); // Aguarda confirmação do Pixel
                console.log('Pixel carregado com sucesso!');
            } catch (error) {
                console.error('Erro no Pixel:', error);
            }
            
            // Redireciona após 3 segundos (mesmo se o Pixel falhar)
            setTimeout(() => {
                window.location.href = "https://compra-confirmada.my.canva.site";
            }, 3000);
        }

        // Inicia o processo
        window.addEventListener('DOMContentLoaded', init);
    </script>

    <!-- Fallback para navegadores sem JavaScript -->
    <noscript>
        <meta http-equiv="refresh" content="3;url=https://compra-confirmada.my.canva.site">
        <img height="1" width="1" style="display:none" 
             src="https://www.facebook.com/tr?id=1345211853386206&ev=Purchase&cd[value]=39.90&noscript=1"/>
    </noscript>
</head>
<body style="text-align: center; padding: 50px; font-family: Arial;">
    <h1>✅ Finalizando sua compra...</h1>
    <div style="
        border: 5px solid #f3f3f3;
        border-top: 5px solid #1877f2;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        animation: spin 1s linear infinite;
        margin: 20px auto;
    "></div>
    <p>Aguarde enquanto processamos seu pagamento</p>
</body>
</html>
